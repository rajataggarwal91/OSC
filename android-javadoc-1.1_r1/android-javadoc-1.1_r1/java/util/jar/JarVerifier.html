<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10) on Wed Feb 11 14:30:12 MSK 2009 -->
<TITLE>
JarVerifier
</TITLE>

<META NAME="date" CONTENT="2009-02-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JarVerifier";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/JarVerifier.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Build&nbsp;1.1_r1 (from&nbsp;source)</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../java/util/jar/JarOutputStream.html" title="class in java.util.jar"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?java/util/jar/JarVerifier.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="JarVerifier.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
java.util.jar</FONT>
<BR>
Class JarVerifier</H2>
<PRE>
<A HREF="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>java.util.jar.JarVerifier</B>
</PRE>
<HR>
<DL>
<DT><PRE> class <B>JarVerifier</B><DT>extends <A HREF="../../../java/lang/Object.html" title="class in java.lang">Object</A></DL>
</PRE>

<P>
Non-public class used by <A HREF="../../../java/util/jar/JarFile.html" title="class in java.util.jar"><CODE>JarFile</CODE></A> and <A HREF="../../../java/util/jar/JarInputStream.html" title="class in java.util.jar"><CODE>JarInputStream</CODE></A> to manage
 the verification of signed JARs. <code>JarFile</code> and <code>JarInputStream</code>
 objects are expected to have a <code>JarVerifier</code> instance member which
 can be used to carry out the tasks associated with verifying a signed JAR.
 These tasks would typically include:
 <ul>
 <li>verification of all signed signature files
 <li>confirmation that all signed data was signed only by the party or parties
 specified in the signature block data
 <li>verification that the contents of all signature files (i.e. <code>.SF</code>
 files) agree with the JAR entries information found in the JAR manifest.
 </ul>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar">JarVerifier.VerifierEntry</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO Type description</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#mainAttributesChunk">mainAttributesChunk</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#JarVerifier(java.lang.String)">JarVerifier</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs and returns a new instance of <code>JarVerifier</code>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#addMetaEntry(java.lang.String, byte[])">addMetaEntry</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name,
             byte[]&nbsp;buf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new meta entry to the internal collection of data held on each JAR
 entry in the <code>META-INF</code> directory including the manifest
 file itself.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert">Certificate</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#getCertificates(java.lang.String)">getCertificates</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all of the <A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert"><CODE>Certificate</CODE></A> instances that
 were used to verify the signature on the JAR entry called
 <code>name</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../java/util/Vector.html" title="class in java.util">Vector</A>&lt;<A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert">Certificate</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#getSignerCertificates(java.lang.String, java.util.Map)">getSignerCertificates</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;signatureFileName,
                      <A HREF="../../../java/util/Map.html" title="interface in java.util">Map</A>&lt;<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>,<A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert">Certificate</A>[]&gt;&nbsp;certificates)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>Vector</code> of all of the
 <A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert"><CODE>Certificate</CODE></A>s that are associated with the
 signing of the named signature file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar">JarVerifier.VerifierEntry</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#initEntry(java.lang.String)">initEntry</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoked for each new JAR entry read operation from the input
 stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#isSignedJar()">isSignedJar</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>boolean</code> indication of whether or not the
 associated JAR file is signed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#readCertificates()">readCertificates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the associated JAR file is signed, check on the validity of all of the
 known signatures.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#removeMetaEntries()">removeMetaEntries</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove all entries from the internal collection of data held about each
 JAR entry in the <code>META-INF</code> directory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#setManifest(java.util.jar.Manifest)">setManifest</A></B>(<A HREF="../../../java/util/jar/Manifest.html" title="class in java.util.jar">Manifest</A>&nbsp;mf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Associate this verifier with the specified <A HREF="../../../java/util/jar/Manifest.html" title="class in java.util.jar"><CODE>Manifest</CODE></A> object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/util/jar/JarVerifier.html#verifySignatures(java.util.jar.JarVerifier.VerifierEntry, java.util.zip.ZipEntry)">verifySignatures</A></B>(<A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar">JarVerifier.VerifierEntry</A>&nbsp;entry,
                 <A HREF="../../../java/util/zip/ZipEntry.html" title="class in java.util.zip">ZipEntry</A>&nbsp;zipEntry)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies that the digests stored in the manifest match the decrypted
 digests from the .SF file.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="../../../java/lang/Object.html" title="class in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../java/lang/Object.html#clone()">clone</A>, <A HREF="../../../java/lang/Object.html#equals(java.lang.Object)">equals</A>, <A HREF="../../../java/lang/Object.html#finalize()">finalize</A>, <A HREF="../../../java/lang/Object.html#getClass()">getClass</A>, <A HREF="../../../java/lang/Object.html#hashCode()">hashCode</A>, <A HREF="../../../java/lang/Object.html#notify()">notify</A>, <A HREF="../../../java/lang/Object.html#notifyAll()">notifyAll</A>, <A HREF="../../../java/lang/Object.html#toString()">toString</A>, <A HREF="../../../java/lang/Object.html#wait()">wait</A>, <A HREF="../../../java/lang/Object.html#wait(long)">wait</A>, <A HREF="../../../java/lang/Object.html#wait(long, int)">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="mainAttributesChunk"><!-- --></A><H3>
mainAttributesChunk</H3>
<PRE>
byte[] <B>mainAttributesChunk</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="JarVerifier(java.lang.String)"><!-- --></A><H3>
JarVerifier</H3>
<PRE>
<B>JarVerifier</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD>Constructs and returns a new instance of <code>JarVerifier</code>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the JAR file being verified.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initEntry(java.lang.String)"><!-- --></A><H3>
initEntry</H3>
<PRE>
<A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar">JarVerifier.VerifierEntry</A> <B>initEntry</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD>Invoked for each new JAR entry read operation from the input
 stream. This method constructs and returns a new <A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar"><CODE>JarVerifier.VerifierEntry</CODE></A>
 which contains the certificates used to sign the entry and its hash value
 as specified in the JAR MANIFEST format.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of an entry in a JAR file which is <b>not</b> in the
            <code>META-INF</code> directory.
<DT><B>Returns:</B><DD>a new instance of <A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar"><CODE>JarVerifier.VerifierEntry</CODE></A> which can be used by
         callers as an <A HREF="../../../java/io/OutputStream.html" title="class in java.io"><CODE>OutputStream</CODE></A>.<DT><B>Since:</B></DT>
  <DD>Android 1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="addMetaEntry(java.lang.String, byte[])"><!-- --></A><H3>
addMetaEntry</H3>
<PRE>
void <B>addMetaEntry</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name,
                  byte[]&nbsp;buf)</PRE>
<DL>
<DD>Add a new meta entry to the internal collection of data held on each JAR
 entry in the <code>META-INF</code> directory including the manifest
 file itself. Files associated with the signing of a JAR would also be
 added to this collection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the file located in the <code>META-INF</code>
            directory.<DD><CODE>buf</CODE> - the file bytes for the file called <code>name</code>.<DT><B>See Also:</B><DD><A HREF="../../../java/util/jar/JarVerifier.html#removeMetaEntries()"><CODE>removeMetaEntries()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="readCertificates()"><!-- --></A><H3>
readCertificates</H3>
<PRE>
boolean <B>readCertificates</B>()</PRE>
<DL>
<DD>If the associated JAR file is signed, check on the validity of all of the
 known signatures.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the associated JAR is signed and an internal
         check verifies the validity of the signature(s). <code>false</code> if
         the associated JAR file has no entries at all in its <code>META-INF</code> directory. This situation is indicative of an invalid
         JAR file.
         <p>
         Will also return <code>true</code> if the JAR file is <i>not</i>
         signed.
         </p>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if the JAR file is signed and it is determined that a
             signature block file contains an invalid signature for the
             corresponding signature file.<DT><B>Since:</B></DT>
  <DD>Android 1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setManifest(java.util.jar.Manifest)"><!-- --></A><H3>
setManifest</H3>
<PRE>
void <B>setManifest</B>(<A HREF="../../../java/util/jar/Manifest.html" title="class in java.util.jar">Manifest</A>&nbsp;mf)</PRE>
<DL>
<DD>Associate this verifier with the specified <A HREF="../../../java/util/jar/Manifest.html" title="class in java.util.jar"><CODE>Manifest</CODE></A> object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mf</CODE> - a <code>java.util.jar.Manifest</code> object.</DL>
</DD>
</DL>
<HR>

<A NAME="verifySignatures(java.util.jar.JarVerifier.VerifierEntry, java.util.zip.ZipEntry)"><!-- --></A><H3>
verifySignatures</H3>
<PRE>
void <B>verifySignatures</B>(<A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar">JarVerifier.VerifierEntry</A>&nbsp;entry,
                      <A HREF="../../../java/util/zip/ZipEntry.html" title="class in java.util.zip">ZipEntry</A>&nbsp;zipEntry)</PRE>
<DL>
<DD>Verifies that the digests stored in the manifest match the decrypted
 digests from the .SF file. This indicates the validity of the signing,
 not the integrity of the file, as it's digest must be calculated and
 verified when its contents are read.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>entry</CODE> - the <A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar"><CODE>JarVerifier.VerifierEntry</CODE></A> associated with the specified
            <code>zipEntry</code>.<DD><CODE>zipEntry</CODE> - an entry in the JAR file
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if the digest value stored in the manifest does <i>not</i>
             agree with the decrypted digest as recovered from the
             <code>.SF</code> file.<DT><B>See Also:</B><DD><A HREF="../../../java/util/jar/JarVerifier.html#initEntry(java.lang.String)"><CODE>initEntry(String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isSignedJar()"><!-- --></A><H3>
isSignedJar</H3>
<PRE>
boolean <B>isSignedJar</B>()</PRE>
<DL>
<DD>Returns a <code>boolean</code> indication of whether or not the
 associated JAR file is signed.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the JAR is signed, <code>false</code>
         otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getCertificates(java.lang.String)"><!-- --></A><H3>
getCertificates</H3>
<PRE>
<A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert">Certificate</A>[] <B>getCertificates</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD>Returns all of the <A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert"><CODE>Certificate</CODE></A> instances that
 were used to verify the signature on the JAR entry called
 <code>name</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of a JAR entry.
<DT><B>Returns:</B><DD>an array of <A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert"><CODE>Certificate</CODE></A>.</DL>
</DD>
</DL>
<HR>

<A NAME="removeMetaEntries()"><!-- --></A><H3>
removeMetaEntries</H3>
<PRE>
void <B>removeMetaEntries</B>()</PRE>
<DL>
<DD>Remove all entries from the internal collection of data held about each
 JAR entry in the <code>META-INF</code> directory.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../java/util/jar/JarVerifier.html#addMetaEntry(java.lang.String, byte[])"><CODE>addMetaEntry(String, byte[])</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getSignerCertificates(java.lang.String, java.util.Map)"><!-- --></A><H3>
getSignerCertificates</H3>
<PRE>
public static <A HREF="../../../java/util/Vector.html" title="class in java.util">Vector</A>&lt;<A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert">Certificate</A>&gt; <B>getSignerCertificates</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;signatureFileName,
                                                        <A HREF="../../../java/util/Map.html" title="interface in java.util">Map</A>&lt;<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>,<A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert">Certificate</A>[]&gt;&nbsp;certificates)</PRE>
<DL>
<DD>Returns a <code>Vector</code> of all of the
 <A HREF="../../../java/security/cert/Certificate.html" title="class in java.security.cert"><CODE>Certificate</CODE></A>s that are associated with the
 signing of the named signature file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>signatureFileName</CODE> - the name of a signature file.<DD><CODE>certificates</CODE> - a <code>Map</code> of all of the certificate chains discovered so
            far while attempting to verify the JAR that contains the
            signature file <code>signatureFileName</code>. This object is
            previously set in the course of one or more calls to
            <CODE>#verifyJarSignatureFile(String, String, String, Map, Map)</CODE>
            where it was passed as the last argument.
<DT><B>Returns:</B><DD>all of the <code>Certificate</code> entries for the signer of the JAR
         whose actions led to the creation of the named signature file.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/JarVerifier.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Build&nbsp;1.1_r1 (from&nbsp;source)</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../java/util/jar/JarOutputStream.html" title="class in java.util.jar"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../java/util/jar/JarVerifier.VerifierEntry.html" title="class in java.util.jar"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?java/util/jar/JarVerifier.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="JarVerifier.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
